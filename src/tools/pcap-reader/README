
	pcap-reader:
	Parse a pcap file and emit (almost) SPIN-compatible JSON


==> Introduction

The program in this repository parses a PCAP file and prints SPIN-compatible
JSON (with some caveats) to stdout.

The run.sh script is provided for convenience. The script pipes the output of
the program to mosquitto_pub such that the JSON will be published immediately to
the ``SPIN/traffic'' MQTT channel.

Caveats:
 * This program currently does not know anything about SPIN node ID's; all
   ``nodes'' have ID 1. The SPIN ``bolletjesapp'' does not like this at all.


==> Dependencies

 * libldns
 * libpcap


==> Compiling the program

  $ make -f Makefile.Debian	# or Makefile.OpenBSD if using OpenBSD


==> Usage

Parse file.pcap. The JSON output will be published to the ``SPIN/traffic'' MQTT
channel on the server running at 192.168.8.1.

  $ ./run.sh file.pcap 192.168.8.1

Parse file.pcap. The JSON will be printed to stdout.

  $ ./pcap -r file.pcap

Listen on eth0. The JSON output will be printed to stdout.

  $ sudo ./pcap -i eth0

